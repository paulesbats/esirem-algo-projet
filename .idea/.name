esirem_tp_algo